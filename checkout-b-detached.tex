\input{common.tex}
\begin{document}
\begin{tikzpicture}[main]
    \boundingbox
    \usualsetup
    \commit 2eecb (2) -> B;
    \branch main -> E;
    \branch stable -> A;
    \olddetachedHEAD -> 2;

    \begin{pgfonlayer}{HEAD}
    \node [branch, double shadow, above right=.4\g of 2, draw=none, fill=none]  
    {};
    \end{pgfonlayer}
    \node [branch, above right=.4\g of 2] (new) {new};
    \path [branch line] (new) edge (2);
    \HEAD -> new;

    \node [cmd] at (-3,3.75) {git checkout -b new};

    \path [line]
        (old HEAD) edge [dashed, bend left=15] (HEAD label)
        ;

\end{tikzpicture}
\end{document}
