\input{common.tex}
\begin{document}
\begin{tikzpicture}[main]
    \boundingbox
    \indexnode
    \worknode
    \commitTerminal cT at (-6,.75);
    \commit a47c3 (A) -> cT;
    \commit b325c (B) -> A;
    \commit c10b9 (C) -> B;
    \commit da985 (D) -> C;
    \newcommit e918c (E) -> D;
    \commit 169a6 (1) -> A;
    \commit 2c33a (2) -> 1;

    \oldbranch topic -> 2;
    \oldHEAD -> old topic;
    \branch main -> D;
    \branch topic -> E;
    \HEAD -> topic;

    \node [cmd,right] at (1, 3.75) {git rebase --onto main 169a6};

    \path [line]
        (E) edge [bend left=20] (index)
        (E) edge [bend left=30] (work)
        (old HEAD label) edge [dashed, bend left=10] (HEAD label)
        (2) edge [loosely dashed, bend right=40] (E)
        ;

\end{tikzpicture}
\end{document}
